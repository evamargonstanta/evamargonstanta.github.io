<!DOCTYPE html>
<html lang="sl">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet">

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animacija in oblikovanje – Eva Margon</title>

  <style>
    body{
      margin:0;
      font-family:'Rubik', sans-serif;
      background:#fff;
      color:#222;
    }

    /* ===== HEADER ===== */
    .section-header{
      display:flex;
      align-items:center;
      padding:20px;
      border-bottom:1px solid #ddd;
      background:#fff;
    }
    .section-header img.icon{
      width:60px;
      height:60px;
      margin-right:15px;
    }
    .section-header h1{
      font-size:1.8rem;
      margin:0;
      font-weight:600;
      letter-spacing:0.01em;
    }

    /* ===== FILTER BAR (bolj ilustrativni pill gumbi) ===== */
    .filter-bar{
      display:flex;
      align-items:center;
      gap:10px;
      padding: 14px 24px 0;
      max-width: 1600px;
      margin: 0 auto;
      box-sizing: border-box;
      flex-wrap: wrap;
    }

    .filter-btn{
      border:1px solid #ddd;
      background:#fff;
      color:#222;
      font: inherit;
      font-size: .95rem;
      padding: 9px 12px;
      cursor:pointer;
      border-radius: 999px;
      display:flex;
      align-items:center;
      gap:8px;
      line-height:1;
      box-shadow: 0 1px 0 rgba(0,0,0,0.03);
      transition: transform .06s ease, border-color .15s ease, box-shadow .15s ease;
    }
    .filter-btn svg{
      width:18px;
      height:18px;
      display:block;
      opacity:.85;
    }
    @media (hover:hover){
      .filter-btn:hover{
        border-color:#bbb;
        box-shadow: 0 2px 0 rgba(0,0,0,0.06);
        transform: translateY(-1px);
      }
    }
    .filter-btn:active{ transform: translateY(0); }
    .filter-btn.is-active{
      border-color:#222;
      box-shadow: 0 2px 0 rgba(0,0,0,0.10);
    }

    @media (max-width: 900px){
      .filter-bar{
        padding: 12px 20px 0;
        gap:8px;
      }
      .filter-btn{
        font-size: .92rem;
        padding: 8px 11px;
      }
      .filter-btn svg{ width:17px; height:17px; }
    }

    /* ===== GALERIJA ===== */
    .grid-gallery{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 22px;
      padding: 16px 24px 24px; /* malo manj zgoraj zaradi filter bar */
      max-width: 1600px;
      margin: 0 auto;
      box-sizing: border-box;
    }

    @media (max-width: 900px){
      .grid-gallery{
        grid-template-columns: repeat(2, 1fr);
        column-gap: 12px;
        row-gap: 14px;
        padding: 14px 20px 20px;
        max-width: 600px;
      }
    }

    @media (max-width: 420px){
      .grid-gallery{
        column-gap: 10px;
        row-gap: 12px;
        padding: 12px 18px 18px;
        max-width: 480px;
      }
    }

    .project-card{
      aspect-ratio: 1 / 1;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      cursor:pointer;
    }

    /* play overlay – SAMO animacije */
    .project-card.is-animation::after{
      content:"";
      position:absolute;
      inset:0;
      background: url("../assets/images/icon-play.png") center center no-repeat;
      background-size: 72px 72px;
      opacity: 0.85;
      pointer-events:none;
      transition: transform .18s ease, opacity .18s ease;
    }
    @media (max-width: 900px){
      .project-card.is-animation::after{ background-size: 56px 56px; }
    }
    @media (hover:hover){
      .project-card.is-animation:hover::after{
        opacity:1;
        transform: scale(1.05);
      }
    }

    .project-inner{
      width:92%;
      height:92%;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    @media (max-width: 900px){
      .project-inner{ width:100%; height:100%; }
    }
    .project-inner img{
      max-width:100%;
      max-height:100%;
      object-fit:contain;
      display:block;
      border-radius:0;
    }

    /* ===== DOOR ICON – BACK TO HOME ===== */
    .door-hotspot{
      position:fixed;
      bottom: 28px;
      right: 32px;
      width: 76px;
      height: 76px;
      background-image:url("../assets/images/icon-door.png");
      background-size:contain;
      background-repeat:no-repeat;
      background-position:center;
      z-index:20;
    }
    .door-hotspot::after{
      content:"";
      position:absolute;
      inset:0;
      background: rgba(255,255,255,0.12);
      opacity:0;
      transition:opacity .2s ease;
    }
    @media (hover:hover){
      .door-hotspot:hover::after{ opacity:1; cursor:pointer; }
    }
    @media (max-width: 768px){
      .door-hotspot{
        width:60px;
        height:60px;
        bottom:20px;
        right:20px;
      }
    }

    /* ===== MODAL ===== */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      z-index:999;
    }
    .modal.is-open{ display:block; }

    .modal-backdrop{
      position:absolute;
      inset:0;
      background:rgba(0,0,0,.45);
    }

    .modal-panel{
      position:absolute;
      left:50%;
      top:50%;
      transform:translate(-50%,-50%);
      width:min(1100px, calc(100vw - 48px));
      max-height:calc(100vh - 28px);
      background:#fff;
      border-radius:0;
      overflow:hidden;
    }

    /* kontrole desno spodaj – SVG ikone */
    .modal-controls{
      position:absolute;
      right:16px;
      bottom:16px;
      z-index:5;
      display:flex;
      align-items:center;
      gap:14px;
    }
    .modal-controls button{
      border:0;
      background:transparent;
      padding:6px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .modal-controls svg{
      width:38px;
      height:38px;
      display:block;
    }
    @media (max-width:520px){
      .modal-controls{ right:10px; bottom:10px; gap:12px; }
      .modal-controls svg{ width:32px; height:32px; }
    }

    .modal-content{
      display:flex;
      gap:0;
    }

    .modal-media{
      flex:0 0 58%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:14px;
      box-sizing:border-box;
      background:#fff;
    }
    .modal-media img{
      width:100%;
      height:auto;
      max-height:62vh;
      object-fit:contain;
      display:block;
    }

    .modal-body{
      flex:0 0 42%;
      padding:16px 16px 18px;
      box-sizing:border-box;
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:auto;
      max-height:calc(100vh - 28px);
      scrollbar-gutter: stable;
    }
    @supports not (scrollbar-gutter: stable){
      .modal-body{ overflow-y: scroll; }
    }

    .meta-wrap{
      width: min(380px, 100%);
      text-align:center;
    }

    /* ZVRST nad naslovom */
    .meta-genre{
      font-size:.92rem;
      opacity:.72;
      margin: 0 0 6px;
      letter-spacing:.01em;
    }

    .meta-title{
      font-size:1.12rem;
      font-weight:600;
      margin:0 0 14px;
    }

    .meta{
      display:grid;
      grid-template-columns: 130px 1fr;
      column-gap:12px;
      row-gap:10px;
      font-size:.98rem;
      line-height:1.35;
      align-items:center;
      text-align:left;
    }
    .meta .label{ opacity:.7; }
    .meta .value{ opacity:.95; }

    /* ===== MOBILE: bolj lično, bolj “kartica”, bolj sredinsko ===== */
    @media (max-width: 860px){
      .modal-content{ flex-direction:column; }

      .modal-media{
        padding:10px;
      }
      .modal-media img{
        max-height:38vh;
      }

      .modal-body{
        max-height:none;
        overflow:visible;
        padding: 12px 14px 68px; /* prostor za gumbe */
      }

      /* kartični občutek (znotraj body) */
      .meta-wrap{
        width: min(560px, 100%);
        padding: 12px 12px 10px;
        border: 1px solid #eee;
        box-shadow: 0 2px 0 rgba(0,0,0,0.04);
        background:#fff;
      }

      .meta-genre{ font-size:.9rem; }
      .meta-title{ font-size:1.02rem; margin-bottom: 10px; }

      /* center / stack na mobilcu */
      .meta{
        grid-template-columns: 1fr;
        row-gap: 6px;
        text-align:center;
        font-size:.95rem;
      }
      .meta .label{
        margin-top: 10px;
        opacity:.6;
      }
      .meta .value{
        margin-top: -2px;
      }
    }

    @media (max-width: 520px){
      .modal-panel{
        width: calc(100vw - 22px);
        max-height: calc(100vh - 18px);
      }
      .modal-media img{ max-height: 33vh; }
    }

    /* filter skrij */
    .project-card.is-hidden{
      display:none;
    }
  </style>
</head>

<body>

  <section aria-label="Animacija in oblikovanje">
    <div class="section-header">
      <img src="../assets/images/icon-screen.png" alt="Animacija in oblikovanje" class="icon">
      <h1>Animacija in oblikovanje</h1>
    </div>

    <!-- FILTER BUTTONS (bolj ilustrativni) -->
    <div class="filter-bar" aria-label="Filtri">
      <button class="filter-btn is-active" type="button" data-filter="all" aria-pressed="true">
        <!-- Sparkle / grid -->
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M12 2l1.2 4.3L18 7.5l-4.8 1.2L12 13l-1.2-4.3L6 7.5l4.8-1.2L12 2z" stroke="#222" stroke-width="1.6" stroke-linejoin="round"/>
          <path d="M19 13l.7 2.5 2.3.5-2.3.6L19 19l-.6-2.4-2.4-.6 2.4-.5L19 13z" stroke="#222" stroke-width="1.4" stroke-linejoin="round" opacity=".8"/>
        </svg>
        Vse
      </button>

      <button class="filter-btn" type="button" data-filter="animation" aria-pressed="false">
        <!-- Film / screen -->
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 6h16v12H4V6z" stroke="#222" stroke-width="1.6" />
          <path d="M8 6v12M16 6v12" stroke="#222" stroke-width="1.2" opacity=".85"/>
          <path d="M11 10l4 2-4 2v-4z" fill="#222" opacity=".85"/>
        </svg>
        Animacija
      </button>

      <button class="filter-btn" type="button" data-filter="design" aria-pressed="false">
        <!-- Pen / nib -->
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M12 3l6 6-7 12-3-3 4-4-3-3 3-3z" stroke="#222" stroke-width="1.4" stroke-linejoin="round"/>
          <path d="M8.5 18.5L5 22" stroke="#222" stroke-width="1.4" stroke-linecap="round" opacity=".85"/>
        </svg>
        Oblikovanje
      </button>
    </div>

    <!-- ENA SKUPNA GALERIJA (DODATNO PREMEŠANA) -->
    <div class="grid-gallery" id="galleryMixed">

      <!-- Cilj: animacije naj padajo v različne pozicije po vrsticah (5-wide), da niso "v istih stolpcih" -->

      <!-- Row 1: A, D, D, D, A -->
      <!-- A1 -->
      <div class="project-card is-animation"
           data-category="animation"
           data-img="../assets/images/animation1.jpg"
           data-title="Naslov animacije 1"
           data-year="2024"
           data-duration="00:45"
           data-type="2D animacija"
           data-tools="After Effects, Photoshop"
           data-role="Avtorica / animacija"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/animation1.jpg" alt="Animacija 1" loading="lazy">
        </div>
      </div>

      <!-- D1 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design1.jpg"
           data-title="Naslov oblikovanja 1"
           data-year="2024"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Illustrator, InDesign"
           data-role="Oblikovanje"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design1.jpg" alt="Oblikovanje 1" loading="lazy">
        </div>
      </div>

      <!-- D2 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design2.jpg"
           data-title="Naslov oblikovanja 2"
           data-year="2023"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Figma"
           data-role="UI / vizualna podoba"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design2.jpg" alt="Oblikovanje 2" loading="lazy">
        </div>
      </div>

      <!-- D3 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design3.jpg"
           data-title="Naslov oblikovanja 3"
           data-year="2022"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Photoshop"
           data-role="Vizualna podoba"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design3.jpg" alt="Oblikovanje 3" loading="lazy">
        </div>
      </div>

      <!-- A2 -->
      <div class="project-card is-animation"
           data-category="animation"
           data-img="../assets/images/animation2.jpg"
           data-title="Naslov animacije 2"
           data-year="2023"
           data-duration="01:10"
           data-type="Motion design"
           data-tools="After Effects, Illustrator"
           data-role="Animacija"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/animation2.jpg" alt="Animacija 2" loading="lazy">
        </div>
      </div>

      <!-- Row 2: D, A, D, D, D -->
      <!-- D4 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design4.jpg"
           data-title="Naslov oblikovanja 4"
           data-year="2021"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Illustrator"
           data-role="Ilustracija / grafika"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design4.jpg" alt="Oblikovanje 4" loading="lazy">
        </div>
      </div>

      <!-- A3 -->
      <div class="project-card is-animation"
           data-category="animation"
           data-img="../assets/images/animation3.jpg"
           data-title="Naslov animacije 3"
           data-year="2022"
           data-duration="00:30"
           data-type="2D animacija"
           data-tools="Toon Boom, Photoshop"
           data-role="Režija / animacija"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/animation3.jpg" alt="Animacija 3" loading="lazy">
        </div>
      </div>

      <!-- D5 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design5.jpg"
           data-title="Naslov oblikovanja 5"
           data-year="2020"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="InDesign"
           data-role="Prelom / dizajn"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design5.jpg" alt="Oblikovanje 5" loading="lazy">
        </div>
      </div>

      <!-- D6 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design6.jpg"
           data-title="Naslov oblikovanja 6"
           data-year="2024"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Illustrator"
           data-role="Oblikovanje"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design6.jpg" alt="Oblikovanje 6" loading="lazy">
        </div>
      </div>

      <!-- D7 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design7.jpg"
           data-title="Naslov oblikovanja 7"
           data-year="2023"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Figma"
           data-role="UI / vizualna podoba"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design7.jpg" alt="Oblikovanje 7" loading="lazy">
        </div>
      </div>

      <!-- Row 3: D, D, A, D, D -->
      <!-- D8 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design8.jpg"
           data-title="Naslov oblikovanja 8"
           data-year="2022"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Photoshop"
           data-role="Vizualna podoba"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design8.jpg" alt="Oblikovanje 8" loading="lazy">
        </div>
      </div>

      <!-- D9 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design9.jpg"
           data-title="Naslov oblikovanja 9"
           data-year="2021"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Illustrator"
           data-role="Ilustracija / grafika"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design9.jpg" alt="Oblikovanje 9" loading="lazy">
        </div>
      </div>

      <!-- A4 -->
      <div class="project-card is-animation"
           data-category="animation"
           data-img="../assets/images/animation4.jpg"
           data-title="Naslov animacije 4"
           data-year="2021"
           data-duration="00:20"
           data-type="Eksperimentalno"
           data-tools="Procreate, After Effects"
           data-role="Avtorica"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/animation4.jpg" alt="Animacija 4" loading="lazy">
        </div>
      </div>

      <!-- D10 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design10.jpg"
           data-title="Naslov oblikovanja 10"
           data-year="2020"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="InDesign"
           data-role="Prelom / dizajn"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design10.jpg" alt="Oblikovanje 10" loading="lazy">
        </div>
      </div>

      <!-- D11 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design11.jpg"
           data-title="Naslov oblikovanja 11"
           data-year="2024"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Illustrator, InDesign"
           data-role="Oblikovanje"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design11.jpg" alt="Oblikovanje 11" loading="lazy">
        </div>
      </div>

      <!-- Row 4: A, D, A, D, D -->
      <!-- A5 -->
      <div class="project-card is-animation"
           data-category="animation"
           data-img="../assets/images/animation5.jpg"
           data-title="Naslov animacije 5"
           data-year="2020"
           data-duration="00:55"
           data-type="Motion design"
           data-tools="After Effects"
           data-role="Animacija / oblikovanje"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/animation5.jpg" alt="Animacija 5" loading="lazy">
        </div>
      </div>

      <!-- D12 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design12.jpg"
           data-title="Naslov oblikovanja 12"
           data-year="2023"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Figma"
           data-role="UI / vizualna podoba"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design12.jpg" alt="Oblikovanje 12" loading="lazy">
        </div>
      </div>

      <!-- A6 -->
      <div class="project-card is-animation"
           data-category="animation"
           data-img="../assets/images/animation6.jpg"
           data-title="Naslov animacije 6"
           data-year="2024"
           data-duration="00:40"
           data-type="2D animacija"
           data-tools="After Effects"
           data-role="Animacija"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/animation6.jpg" alt="Animacija 6" loading="lazy">
        </div>
      </div>

      <!-- (še 2 design kartici, da zapolnimo 18) -->
      <!-- D13 (če boš dodala slike, sicer lahko izbrišeš) -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design13.jpg"
           data-title="Naslov oblikovanja 13"
           data-year="2024"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="Illustrator"
           data-role="Oblikovanje"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design13.jpg" alt="Oblikovanje 13" loading="lazy">
        </div>
      </div>

      <!-- D14 -->
      <div class="project-card"
           data-category="design"
           data-img="../assets/images/design14.jpg"
           data-title="Naslov oblikovanja 14"
           data-year="2023"
           data-duration="—"
           data-type="Oblikovanje"
           data-tools="InDesign"
           data-role="Prelom / dizajn"
           data-notes="Kratek opis ali opomba.">
        <div class="project-inner">
          <img src="../assets/images/design14.jpg" alt="Oblikovanje 14" loading="lazy">
        </div>
      </div>

    </div>
  </section>


  <!-- BACK TO HOME -->
  <a href="index.html" class="door-hotspot" aria-label="Nazaj na domačo stran"></a>


  <!-- ===== MODAL ===== -->
  <div class="modal" id="projectModal" aria-hidden="true">
    <div class="modal-backdrop" id="modalBackdrop"></div>

    <div class="modal-panel" role="dialog" aria-modal="true" aria-label="Podrobnosti projekta">

      <div class="modal-controls">
        <button class="modal-prev" type="button" id="prevBtn" aria-label="Prejšnji">
          <!-- ilustrativna puščica levo -->
          <svg viewBox="0 0 48 48" fill="none" aria-hidden="true">
            <path d="M29.5 10.5c-6.5 4.2-11.8 8.7-16.8 13.5 5 4.8 10.3 9.3 16.8 13.5"
                  stroke="#222" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 24h24" stroke="#222" stroke-width="1.7" stroke-linecap="round" opacity=".8"/>
            <path d="M18 15.5l-6 8.5 6 8.5" stroke="#222" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity=".6"/>
          </svg>
        </button>

        <button class="modal-next" type="button" id="nextBtn" aria-label="Naslednji">
          <!-- ilustrativna puščica desno -->
          <svg viewBox="0 0 48 48" fill="none" aria-hidden="true">
            <path d="M18.5 10.5c6.5 4.2 11.8 8.7 16.8 13.5-5 4.8-10.3 9.3-16.8 13.5"
                  stroke="#222" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 24h24" stroke="#222" stroke-width="1.7" stroke-linecap="round" opacity=".8"/>
            <path d="M30 15.5l6 8.5-6 8.5" stroke="#222" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity=".6"/>
          </svg>
        </button>

        <button class="modal-close" type="button" id="closeBtn" aria-label="Zapri">
          <!-- ilustrativni X (malo “hand-drawn”) -->
          <svg viewBox="0 0 48 48" fill="none" aria-hidden="true">
            <path d="M14 14l20 20" stroke="#222" stroke-width="2.2" stroke-linecap="round"/>
            <path d="M34 14L14 34" stroke="#222" stroke-width="2.2" stroke-linecap="round"/>
            <path d="M18 12.5c2.2 1.2 4.3 2.7 6.2 4.6" stroke="#222" stroke-width="1.2" stroke-linecap="round" opacity=".55"/>
            <path d="M30 35.5c-2.2-1.2-4.3-2.7-6.2-4.6" stroke="#222" stroke-width="1.2" stroke-linecap="round" opacity=".55"/>
          </svg>
        </button>
      </div>

      <div class="modal-content">
        <div class="modal-media">
          <img id="modalImg" src="" alt="">
        </div>

        <div class="modal-body">
          <div class="meta-wrap">
            <p class="meta-genre" id="mGenre">Zvrst: —</p>
            <p class="meta-title" id="mTitleTop">Naslov: —</p>

            <div class="meta">
              <div class="label">Leto</div><div class="value" id="mYear"></div>
              <div class="label">Dolžina</div><div class="value" id="mDuration"></div>
              <div class="label">Tip</div><div class="value" id="mType"></div>
              <div class="label">Programi</div><div class="value" id="mTools"></div>
              <div class="label">Vloga</div><div class="value" id="mRole"></div>
              <div class="label">Opombe</div><div class="value" id="mNotes"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <script>
    (function () {
      const modal = document.getElementById('projectModal');
      const backdrop = document.getElementById('modalBackdrop');
      const closeBtn = document.getElementById('closeBtn');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');

      const modalImg = document.getElementById('modalImg');
      const mGenre = document.getElementById('mGenre');
      const mTitleTop = document.getElementById('mTitleTop');
      const mYear = document.getElementById('mYear');
      const mDuration = document.getElementById('mDuration');
      const mType = document.getElementById('mType');
      const mTools = document.getElementById('mTools');
      const mRole = document.getElementById('mRole');
      const mNotes = document.getElementById('mNotes');

      const cards = Array.from(document.querySelectorAll('.project-card'));
      let currentIndex = -1;

      function prettyGenre(cat){
        if (cat === 'animation') return 'Animacija';
        if (cat === 'design') return 'Oblikovanje';
        return '—';
      }

      function fillModalFromCard(card){
        const img = card.getAttribute('data-img') || '';
        const title = card.getAttribute('data-title') || '—';
        const year = card.getAttribute('data-year') || '—';
        const duration = card.getAttribute('data-duration') || '—';
        const type = card.getAttribute('data-type') || '—';
        const tools = card.getAttribute('data-tools') || '—';
        const role = card.getAttribute('data-role') || '—';
        const notes = card.getAttribute('data-notes') || '—';
        const category = card.getAttribute('data-category') || '';

        modalImg.src = img;
        modalImg.alt = title;

        mGenre.textContent = 'Zvrst: ' + prettyGenre(category);
        mTitleTop.textContent = 'Naslov: ' + title;
        mYear.textContent = year;
        mDuration.textContent = duration;
        mType.textContent = type;
        mTools.textContent = tools;
        mRole.textContent = role;
        mNotes.textContent = notes;
      }

      function openModal(index){
        currentIndex = index;
        fillModalFromCard(cards[currentIndex]);

        modal.classList.add('is-open');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      }

      function closeModal(){
        modal.classList.remove('is-open');
        modal.setAttribute('aria-hidden', 'true');

        document.body.style.overflow = '';
        currentIndex = -1;
      }

      function showPrev(){
        if (currentIndex < 0) return;
        currentIndex = (currentIndex - 1 + cards.length) % cards.length;
        fillModalFromCard(cards[currentIndex]);
      }

      function showNext(){
        if (currentIndex < 0) return;
        currentIndex = (currentIndex + 1) % cards.length;
        fillModalFromCard(cards[currentIndex]);
      }

      cards.forEach((card, idx) => {
        card.addEventListener('click', () => openModal(idx));
        card.setAttribute('tabindex', '0');
        card.setAttribute('role', 'button');
        card.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openModal(idx);
          }
        });
      });

      closeBtn.addEventListener('click', closeModal);
      backdrop.addEventListener('click', closeModal);

      prevBtn.addEventListener('click', showPrev);
      nextBtn.addEventListener('click', showNext);

      window.addEventListener('keydown', (e) => {
        if (!modal.classList.contains('is-open')) return;
        if (e.key === 'Escape') closeModal();
        if (e.key === 'ArrowLeft') showPrev();
        if (e.key === 'ArrowRight') showNext();
      });

      // ===== FILTER LOGIC =====
      const filterBtns = Array.from(document.querySelectorAll('.filter-btn'));

      function applyFilter(filter){
        filterBtns.forEach(btn => {
          const isActive = btn.getAttribute('data-filter') === filter;
          btn.classList.toggle('is-active', isActive);
          btn.setAttribute('aria-pressed', isActive ? 'true' : 'false');
        });

        cards.forEach(card => {
          const cat = card.getAttribute('data-category');
          const shouldShow = (filter === 'all') || (cat === filter);
          card.classList.toggle('is-hidden', !shouldShow);
        });

        if (modal.classList.contains('is-open')) {
          const currentCard = cards[currentIndex];
          if (currentCard && currentCard.classList.contains('is-hidden')) {
            closeModal();
          }
        }
      }

      filterBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          applyFilter(btn.getAttribute('data-filter'));
        });
      });
    })();
  </script>

</body>
</html>
