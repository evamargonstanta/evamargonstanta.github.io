<!DOCTYPE html>
<html lang="sl">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Animacija in oblikovanje – Eva Margon</title>

  <style>
    body{
      margin:0;
      font-family:'Rubik',sans-serif;
      background:#fff;
      color:#222;
    }

    header{
      display:flex;
      align-items:center;
      padding:20px;
      border-bottom:1px solid #ddd;
      background:#fff;
    }
    header img.icon{
      width:60px;
      height:60px;
      margin-right:15px;
    }
    header h1{
      font-size:1.8rem;
      margin:0;
      font-weight:600;
      letter-spacing:.01em;
    }

    /* ===== GALERIJA ===== */
    .grid-gallery{
      display:grid;
      grid-template-columns:repeat(5,1fr);
      gap:22px;
      padding:50px 24px 24px;
      max-width:1600px;
      margin:0 auto;
    }
    @media (max-width:900px){
      .grid-gallery{
        grid-template-columns:repeat(2,1fr);
        column-gap:12px;
        row-gap:14px;
        padding:18px 20px 20px;
        max-width:600px;
      }
    }
    @media (max-width:420px){
      .grid-gallery{
        column-gap:10px;
        row-gap:12px;
        padding:12px 20px 18px;
        max-width:480px;
      }
    }

    /* ===== PROJEKT (brez črnega okvirja) ===== */
    .project-card{
      aspect-ratio:1/1;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;

      background:transparent;
      border:0;
      padding:0;
      cursor:pointer;
    }
    .project-card:focus{ outline:none; }
    .project-card:focus-visible{
      outline:2px solid #111;
      outline-offset:3px;
    }

    .project-inner{
      width:92%;
      height:92%;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    @media (max-width:900px){
      .project-inner{ width:100%; height:100%; }
    }
    .project-inner img{
      max-width:100%;
      max-height:100%;
      object-fit:contain;
      display:block;
      border-radius:0;
    }

    /* play overlay */
    .project-card::after{
      content:"";
      position:absolute;
      inset:0;
      background:url("../assets/images/icon-play.png") center center no-repeat;
      background-size:72px 72px;
      opacity:.88;
      pointer-events:none;
      transition:transform .18s ease, opacity .18s ease;
    }
    @media (max-width:900px){
      .project-card::after{ background-size:56px 56px; }
    }
    @media (hover:hover){
      .project-card:hover::after{
        opacity:1;
        transform:scale(1.06);
      }
    }

    /* ===== DOOR ===== */
    .door-hotspot{
      position:fixed;
      bottom:28px;
      right:32px;
      width:76px;
      height:76px;
      background-image:url("../assets/images/icon-door.png");
      background-size:contain;
      background-repeat:no-repeat;
      background-position:center;
      z-index:20;
    }
    .door-hotspot::after{
      content:"";
      position:absolute;
      inset:0;
      background:rgba(255,255,255,.12);
      opacity:0;
      transition:opacity .2s ease;
    }
    @media (hover:hover){
      .door-hotspot:hover::after{ opacity:1; cursor:pointer; }
    }
    @media (max-width:768px){
      .door-hotspot{ width:60px; height:60px; bottom:20px; right:20px; }
    }

    /* ===== MODAL ===== */
.modal{
  position:fixed;
  inset:0;
  display:none;
  z-index:999;
}
.modal.is-open{ display:block; }

.modal-backdrop{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.45);
}

/* panel je bel, brez borderjev/okvirjev */
.modal-panel{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:min(1100px, calc(100vw - 28px));
  max-height:calc(100vh - 28px);
  background:#fff;
  border-radius:0;
  overflow:hidden;
}

/* gumbi v kotih / straneh (overlay) */
/* vsi gumbi spodaj desno skupaj */
.modal-controls{
  position:absolute;
  right:16px;
  bottom:16px;
  z-index:5;

  display:flex;
  gap:14px;
}

.modal-controls button{
  border:0;
  background:transparent;
  padding:6px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
}

.modal-controls img{
  width:36px;
  height:36px;
  display:block;
}

@media (max-width:520px){
  .modal-controls{
    right:12px;
    bottom:12px;
  }

  .modal-controls img{
    width:32px;
    height:32px;
  }
}

.modal-close img,
.modal-prev img,
.modal-next img{
  width:36px;
  height:36px;
  display:block;
}

@media (max-width:520px){
  .modal-close{ top:10px; right:10px; }
  .modal-prev{ left:8px; }
  .modal-next{ right:8px; }
  .modal-close img,
  .modal-prev img,
  .modal-next img{
    width:32px;
    height:32px;
  }
}

.modal-close:focus,
.modal-prev:focus,
.modal-next:focus{ outline:none; }
.modal-close:focus-visible,
.modal-prev:focus-visible,
.modal-next:focus-visible{
  outline:2px solid #111;
  outline-offset:2px;
}

/* layout */
.modal-content{
  display:flex;
  gap:0;
}

/* levo slika */
.modal-media{
  flex:0 0 58%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:14px;
  box-sizing:border-box;
  background:#fff;
}
.modal-media img{
  width:100%;
  height:auto;
  max-height:62vh;           /* manj, da ne rabiš scrollat */
  object-fit:contain;
  display:block;
}

/* desno podatki (kataloški look + stabilno) */
.modal-body{
  flex:0 0 42%;
  padding:18px 18px 20px;
  box-sizing:border-box;
  background:#fff;

  /* stabilnost: naj se nič ne premika zaradi scrollbara */
  overflow-y:auto;
  max-height:calc(100vh - 28px);
  scrollbar-gutter: stable;

  /* centriranje celotnega kataloga po višini */
  display:flex;
  align-items:center;
  justify-content:center;
}

/* fallback: če scrollbar-gutter ni podprt, vedno rezerviraj prostor */
@supports not (scrollbar-gutter: stable){
  .modal-body{ overflow-y: scroll; }
}

/* “kataloška kartica” znotraj desnega dela */
.modal-body .catalog{
  width:100%;
  max-width:420px;           /* vedno enaka širina = nič zamikanja */
  text-align:center;
}

/* naslov (na vrhu, kot si želela) */
.modal-title{
  font-size:1.25rem;
  font-weight:600;
  letter-spacing:0.01em;
  margin:0 0 10px;
}

/* podnaslov / kratki opis (če ga imaš) */
.modal-subtitle{
  font-size:.95rem;
  opacity:.75;
  margin:0 0 16px;
  line-height:1.45;
}

/* meta podatki v “katalog” stilu */
.meta{
  display:grid;
  grid-template-columns:150px 1fr;  /* fiksno = nič skakanja */
  column-gap:14px;
  row-gap:10px;

  font-size:.98rem;
  line-height:1.4;
  align-items:baseline;

  /* vizualno bolj “katalog” */
  padding-top:14px;
  border-top:1px solid rgba(0,0,0,.08);
}

.meta .label{
  opacity:.6;
  text-align:right;          /* katalog: label desno */
  white-space:nowrap;
}

.meta .value{
  opacity:.95;
  text-align:left;           /* vrednost levo */
}

/* malo bolj “razstavno”: več miru med vrsticami na velikih ekranih */
@media (min-width: 900px){
  .meta{ row-gap:12px; }
}

/* mobile: slika zgoraj, podatki spodaj */
@media (max-width:860px){
  .modal-content{ flex-direction:column; }

  .modal-media img{ max-height:46vh; }

  .modal-body{
    max-height:none;
    overflow:visible;
    padding:16px 18px 20px;
    display:block;           /* na mobile ne centriraj po višini */
  }

  .modal-body .catalog{
    max-width:520px;
    margin:0 auto;
    text-align:center;
  }

  .meta{
    grid-template-columns:1fr; /* en stolpec (label nad value) */
    border-top:1px solid rgba(0,0,0,.08);
  }
  .meta .label{
    text-align:center;
    opacity:.55;
  }
  .meta .value{
    text-align:center;
    margin-top:-6px;
  }

  /* prev/next malo nižje, da ne prekrivata X */
  .modal-prev,
  .modal-next{ top:42%; }
}

  </style>
</head>

<body>
  <header>
    <img src="../assets/images/icon-screen.png" alt="Animacija in oblikovanje" class="icon" />
    <h1>Animacija in oblikovanje</h1>
  </header>

  <div class="grid-gallery">
    <!-- PROJEKT 1 -->
    <button class="project-card" type="button"
      data-title="Jazon in Argonavti"
      data-year="2015"
      data-duration="00:12"
      data-type="2D loop / motion design"
      data-tools="After Effects, Procreate"
      data-role="Ilustracija, animacija"
      data-notes="(po želji) naročnik / format / opombe"
      data-media="../assets/images/animation1.jpg">
      <div class="project-inner">
        <img src="../assets/images/animation1.jpg" alt="Animacija 1" loading="lazy" />
      </div>
    </button>

    <!-- PROJEKT 2 -->
    <button class="project-card" type="button"
      data-title="Vrzi kovanec"
      data-year="2017"
      data-duration="01:10"
      data-type="Explainer / naslovni insert"
      data-tools="After Effects"
      data-role="Animacija"
      data-notes=""
      data-media="../assets/images/animation2.jpg">
      <div class="project-inner">
        <img src="../assets/images/animation2.jpg" alt="Animacija 2" loading="lazy" />
      </div>
    </button>

    <!-- PROJEKT 3 -->
    <button class="project-card" type="button"
      data-title="Zajcek pece torto"
      data-year="2022"
      data-duration="00:30"
      data-type="Motion design"
      data-tools="After Effects, Illustrator"
      data-role="Oblikovanje + animacija"
      data-notes=""
      data-media="../assets/images/animation3.jpg">
      <div class="project-inner">
        <img src="../assets/images/animation3.jpg" alt="Animacija 3" loading="lazy" />
      </div>
    </button>

    <!-- PROJEKT 4 -->
    <button class="project-card" type="button"
      data-title="Hitra dostava"
      data-year="2021"
      data-duration="00:08"
      data-type="2D loop"
      data-tools="Procreate"
      data-role="Ilustracija"
      data-notes=""
      data-media="../assets/images/animation4.jpg">
      <div class="project-inner">
        <img src="../assets/images/animation4.jpg" alt="Animacija 4" loading="lazy" />
      </div>
    </button>

    <!-- PROJEKT 5 -->
    <button class="project-card" type="button"
      data-title="Zaraščanje"
      data-year="2020"
      data-duration="00:15"
      data-type="Grafična špica"
      data-tools="After Effects"
      data-role="Animacija"
      data-notes=""
      data-media="../assets/images/animation5.jpg">
      <div class="project-inner">
        <img src="../assets/images/animation5.jpg" alt="Animacija 5" loading="lazy" />
      </div>
    </button>
  </div>

  <a href="index.html" class="door-hotspot" aria-label="Nazaj na domačo stran"></a>

  <!-- MODAL -->
  <div class="modal" id="projectModal" aria-hidden="true">
    <div class="modal-backdrop" id="modalBackdrop"></div>

    <div class="modal-panel" role="dialog" aria-modal="true" aria-label="Podrobnosti projekta">
      <!-- gumbi v “stari” postavitvi -->
      <div class="modal-controls">
  <button class="modal-prev" type="button" id="prevBtn" aria-label="Prejšnji">
    <img src="../assets/images/icon-backward.png" alt="">
  </button>

  <button class="modal-next" type="button" id="nextBtn" aria-label="Naslednji">
    <img src="../assets/images/icon-forward.png" alt="">
  </button>

  <button class="modal-close" type="button" id="closeBtn" aria-label="Zapri">
    <img src="../assets/images/icon-exit.png" alt="">
  </button>
</div>


      <div class="modal-content">
        <div class="modal-media">
          <img id="modalImg" src="" alt="" />
        </div>

        <div class="modal-body">
  <div class="catalog">
    <h2 class="modal-title">Naslov: <span id="mTitle"></span></h2>

    <!-- optional: če hočeš kratko vrstico pod naslovom (lahko pustiš prazno) -->
    <p class="modal-subtitle" id="mSubtitle" style="display:none;"></p>

    <div class="meta">
      <div class="label">Leto</div><div class="value" id="mYear"></div>
      <div class="label">Dolžina</div><div class="value" id="mDuration"></div>
      <div class="label">Tip</div><div class="value" id="mType"></div>
      <div class="label">Programi</div><div class="value" id="mTools"></div>
      <div class="label">Vloga</div><div class="value" id="mRole"></div>
      <div class="label">Opombe</div><div class="value" id="mNotes"></div>
    </div>
  </div>
</div>


  <script>
  (function(){
    const cards = Array.from(document.querySelectorAll('.project-card[data-media]'));
    const modal = document.getElementById('projectModal');
    const backdrop = document.getElementById('modalBackdrop');

    const img = document.getElementById('modalImg');
    const mTitle = document.getElementById('mTitle');
    const mYear = document.getElementById('mYear');
    const mDuration = document.getElementById('mDuration');
    const mType = document.getElementById('mType');
    const mTools = document.getElementById('mTools');
    const mRole = document.getElementById('mRole');
    const mNotes = document.getElementById('mNotes');

    const closeBtn = document.getElementById('closeBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    if (!cards.length || !modal) return;

    let index = 0;

    function setText(el, value){
      el.textContent = (value && value.trim()) ? value : "—";
    }

    function openAt(i){
      index = (i + cards.length) % cards.length;
      const card = cards[index];

      img.src = card.dataset.media;
      img.alt = card.querySelector('img')?.alt || card.dataset.title || 'Projekt';

      setText(mTitle, card.dataset.title || "");
      setText(mYear, card.dataset.year || "");
      setText(mDuration, card.dataset.duration || "");
      setText(mType, card.dataset.type || "");
      setText(mTools, card.dataset.tools || "");
      setText(mRole, card.dataset.role || "");
      setText(mNotes, card.dataset.notes || "");

      modal.classList.add('is-open');
      modal.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }

    function close(){
      modal.classList.remove('is-open');
      modal.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
      img.src = '';
    }

    cards.forEach((card, i) => {
      card.addEventListener('click', () => openAt(i));
    });

    prevBtn.addEventListener('click', () => openAt(index - 1));
    nextBtn.addEventListener('click', () => openAt(index + 1));

    // X je prej “ne delal” zaradi tega, ker ni bil pravilno zvezan na handler.
    closeBtn.addEventListener('click', close);

    // klik na ozadje zapre
    backdrop.addEventListener('click', close);

    window.addEventListener('keydown', (e) => {
      if (!modal.classList.contains('is-open')) return;
      if (e.key === 'Escape') close();
      if (e.key === 'ArrowLeft') openAt(index - 1);
      if (e.key === 'ArrowRight') openAt(index + 1);
    });
  })();
  </script>

</body>
</html>
