<!DOCTYPE html>
<html lang="sl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eva Margon – Studio</title>

  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css">

  <style>
    html, body { margin: 0; padding: 0; height: 100%; }

    body{
      overflow:hidden; /* desktop */
    }

    /* HERO */
    .hero{
      width:100%;
      text-align:center;
      padding-top:20px;
      position:relative;
      z-index:1;
    }

    .signature{
      max-width:320px;
      width:70%;
      margin:0 auto 8px;
      display:block;
      opacity:.95;
      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.08));
      position: relative;
      z-index: 100;
    }

    /* SCENE */
    .scene{
      position:relative;
      width:100%;
      height: calc(100vh - 100px);
      z-index: 1;
    }

    .media-wrap{
      position:relative;
      width:100%;
      height:100%;
    }

    /* wrapper: image + SVG skupaj (brez zooma) */
    .stage{
      position:absolute;
      inset:0;
      transform-origin:center;
      transform:none;
    }

    .media-wrap picture{
      position:absolute;
      inset:0;
      display:block;
      width:100%;
      height:100%;
      z-index:0;
    }

    .media-wrap img{
      width:100%;
      height:100%;
      object-fit:contain;
      object-position:50% 50%;
      display:block;
      margin:0 auto;
    }

    /* SVG layers */
    #hotspots-outline{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index:1;
      display:none;
    }

    #hotspots{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      z-index:2;
    }

    /* CLICK SHAPE (highlight overlay) */
    #hotspots .click{
      pointer-events: all;
      cursor: pointer;
      fill: #fff;
      fill-opacity: 0;
      stroke: none;
      transition: fill-opacity 160ms ease;
    }

    @media (hover:hover){
      #hotspots .hotspot:hover .click{
        fill-opacity: 0.28;
      }
    }

    #hotspots .hotspot.is-tapped .click{
      fill-opacity: 0.32;
    }

    #hotspots .hotspot{
      -webkit-tap-highlight-color: transparent;
    }

    /* Language */
    .language-switch{
      position:fixed;
      bottom:20px;
      right:24px;
      font-size:14px;
      z-index:60;
    }
    .language-switch a{
      text-decoration:none;
      color:#222;
      opacity:.6;
      transition: opacity .2s ease;
    }
    .language-switch a:hover{ opacity:1; }

    /* Mobile CTA */
    .mobile-cta{
      display:none;
      width:100%;
      margin:0;
      padding:0;
      text-align:center;
      line-height:0;
      position:relative;
      z-index:55;
    }

    .mobile-cta button{
      appearance:none;
      border:none;
      background:transparent;
      color:#222;
      font-family:'Rubik', sans-serif;
      font-size:15px;
      font-weight:500;
      padding:0;
      margin:0;
      border-radius:999px;
      display:inline-flex;
      align-items:center;
      gap:6px;
      cursor:pointer;
      opacity:1;
      transition: transform .2s ease, opacity .2s ease;
      line-height:1;
    }

    .hint-row{
      display:inline-flex;
      align-items:center;
      gap:8px;
    }

    .hint-arrow{
      width:26px;
      height:auto;
      display:block;
    }

    .hint-text{
      white-space:nowrap;
      opacity:1;
      font-size:13px;
    }

    /* Mobile menu */
    .mobile-menu{
      display:none;
      padding: 14px 12px 18px;
      background:#fff;
      position:relative;
      z-index:54;
      opacity:0;
      transform: translateY(10px);
      transition: opacity .2s ease, transform .2s ease;
    }

    .mobile-menu.is-open{
      display:block;
      opacity:1;
      transform: translateY(0);
    }

    .icon-nav-mobile{
      display:grid;
      grid-template-columns: repeat(5, max-content);
      justify-content:center;
      justify-items:center;
      gap:10px 14px;
      padding: 0 10px;
      overflow: visible;
    }

    .icon-nav-mobile .icon-link:nth-child(6){ grid-column: 2; }
    .icon-nav-mobile .icon-link:nth-child(7){ grid-column: 3; }
    .icon-nav-mobile .icon-link:nth-child(8){ grid-column: 4; }

    .icon-nav-mobile .icon-link{
      display:flex;
      flex-direction:column;
      align-items:center;
      text-decoration:none;
      flex: 0 0 auto;
      min-width: 0;
    }

    .icon-nav-mobile .icon{
      width:36px;
      height:36px;
      display:block;
      filter:none;
      opacity:1;
    }

    .icon-nav-mobile .icon-title{
      margin-top:7px;
      font-size:13px;
      line-height:1.15;
      text-align:center;
      color:#111;
      opacity:.9;
      max-width:90px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* Responsive */
    @media (max-width: 420px), (orientation: portrait) and (max-width: 768px){
      html, body{ overflow-x:hidden; } /* no left-right scroll */
      body{ overflow-y:auto; }

      .hero{
        padding-top:0;
        min-height:100vh;
        display:flex;
        flex-direction:column;
        justify-content:center;
        align-items:center;
      }

      body.menu-open .hero{
        justify-content:center;
        min-height:100vh;
      }

      .signature{
        max-width:165px;
        width:auto;
        margin:0 auto 8px;
      }

      .scene{
        height:auto;
        margin:0;
        padding:0;
        line-height:0;
        width:100%;
      }

      /* nazaj: brez cropa, stabilna višina */
      .media-wrap{
        height: min(58vh, 470px);
        width:100%;
        position:relative;
        overflow:visible;
      }

      .media-wrap img{
        width:100%;
        height:100%;
        object-fit:contain;   /* pomembno: cela slika, brez zooma */
        object-position:50% 50%;
      }

      .stage{
        transform:none;
      }

      .mobile-cta{
        display:block;
        margin-top:8px;
      }

      .mobile-cta button{
        padding:10px 12px;
      }

      .language-switch{
        bottom:16px;
        right:16px;
        font-size:13px;
      }

      .icon-nav-mobile{ gap:8px 12px; }
      .icon-nav-mobile .icon{ width:34px; height:34px; }
      .icon-nav-mobile .icon-title{ font-size:12px; max-width:86px; }
    }
  </style>
</head>

<body>

  <!-- LANGUAGE SWITCH -->
  <div class="language-switch">
    <span>SL</span> / <a href="../en/">EN</a>
  </div>

  <!-- HERO -->
  <div class="hero">

    <img src="../assets/images/logo.png" alt="Eva Margon" class="signature">

    <div class="scene">
      <div class="media-wrap">
        <div class="stage">
          <picture>
            <!-- MOBILE: višja verzija (1920×1500) -->
            <source srcset="../assets/images/galerija-mobile.jpg" media="(max-width: 768px)">
            <!-- DESKTOP -->
            <img src="../assets/images/galerija.jpg" alt="Illustrated studio workspace">
          </picture>

          <!-- OUTLINE SVG (skrito) -->
          <svg id="hotspots-outline" viewBox="0 0 461 260" preserveAspectRatio="xMidYMid meet" aria-hidden="true"></svg>

          <!-- KLIKABILNI SVG -->
          <svg id="hotspots" viewBox="0 0 461 260" preserveAspectRatio="xMidYMid meet" aria-label="Hotspots">

            <!-- PUSTI KOORDINATE ISTE (kopiraj komplet od prej) -->
            <!-- ... tvoj cel SVG ... -->

             <!-- NEWSPAPER -->
            <g class="hotspot" id="hotspot-newspaper">
              <path class="click" d="M135.3,213.3c-1.4,-1.7 2.1,-1.9 0.7,-3.1c-0.5,-0.4 0.7,0.1 5.4,-5.6c0.6,-0.7 0.7,-0.5 7.6,-8.3c0,-0 1.8,-1.3 5.2,-4.7c1.1,-1.1 1.2,-0.8 2.3,-0.3c0.6,0.3 7.7,1.5 8.1,1.5c5.5,0.2 8.7,-0.8 15.1,3.4c0.7,0.5 5.6,3.8 6.9,7.7c1.2,3.7 0.1,3.8 -5.5,13.9c-1.6,3 -5.6,8.3 -6.4,10.5c-0.4,1.1 -1.6,-0.9 -1.8,0.3c-0.1,0.7 0.9,2.4 -1.3,1.5c-14.6,-5.8 -21.3,-5.7 -30.6,-8.8c-5.4,-1.8 -8.3,-0.3 -6.9,-2.6c0,-0 0.1 0 0.5,-0.6c0.4,-0.6 0.3,-0.5 0.7,-1c-0.4,-0 -3.9,-0 -1.5,-2c0.1,-0.1 0.1,-0.2 1.7,-1.8z"/>
            </g>

            <!-- BAG -->
            <g class="hotspot" id="hotspot-bag">
              <path class="click" d="M261.9,187.4c-3.4,0.3 -3.4,2 -9.4,2.8c-6.5,0.8 -9.6,3.9 -10.2,4.5c-1, 1 -1.7,1.3 -0.8,2.4c0,0.1 2.9,4.1 3.2,5.8c0.6,2.9 -1.6,9.4 -0.5,11.6c0.6, 1.1 14.8,1 17,0.3c0.1,-1.3 0.2,-2.4 0.3,-6.5c0,-0.8 -0.2,-1.5 0.3,-12.2c0.1,-1.6 0.1,-5.7 0.2,-8.7z"/>
            </g>

            <!-- BRUSHES -->
            <g class="hotspot" id="hotspot-brushes" transform="scale(0.2401041667 0.2407407407)">
              <path class="click"
                d="M1349.02,626.097C1349.02,596.461 1349.56,584.856 1338.28,589.633C1334.27,591.333 1336.18,599.642 1338.28,626.097C1338.34,626.833 1341.59,651.622 1342.39,659.563C1343.11,666.749 1345.49,673.877 1340.34,668.719C1337.56,665.943 1335.13,632.298 1332.13,627.045C1328.68,621.019 1332.7,582.767 1331.02,571.637C1330.72,569.609 1320.68,562.798 1321.08,583.476C1321.45,602.747 1320.96,627.646 1321.39,637.937C1316.42,613.061 1313.46,610.695 1310.47,613.94C1307.08,603.975 1309.6,600.58 1304.5,594.21C1294.78,582.061 1299.94,604.848 1300.16,605.815C1297.62,602.674 1296.92,601.73 1293.2,604.716C1292.33,607.058 1295.93,610.12 1297.35,615.006C1294.71,613.486 1295.73,612.589 1293.61,610.47C1287.73,604.593 1288.12,611.424 1287.56,613.739C1283.89,603.451 1276.57,613.169 1281.45,622.94C1290.66,641.357 1288.75,641.988 1288.72,643.304C1288.42,654.965 1292.99,654.478 1302.77,675.664C1307.96,686.909 1308.57,686.507 1313.78,697.702C1311.1,703.514 1313.79,703.586 1321.24,719.548C1327.79,733.599 1338.14,739.743 1326.13,751.751C1326.05,751.83 1324.24,757.269 1324.08,757.75C1321.03,766.898 1331.07,768.47 1331.18,774.009C1332.01,815.656 1326.22,818.145 1337.65,829.574C1353.44,845.361 1404.79,847.239 1402.85,814.262C1400.19,769.095 1405.56,769.589 1405.85,765.8C1406.34,759.349 1400.75,755.428 1405.06,751.12C1407.28,748.893 1405.41,747.689 1426.53,718.128C1435.21,705.973 1442.1,695.639 1443.42,693.66C1455.22,675.955 1484.39,644.289 1480.2,640.62C1472.25,633.665 1462.7,649.345 1453.23,660.034C1451.98,640.644 1453.73,640.693 1452.89,621.362C1452.49,612.321 1451.53,611.754 1456.99,604.471C1461.03,599.084 1456.64,588.608 1450.2,597.052C1447.68,600.367 1442.16,611.4 1441.52,612.68C1439.75,616.222 1438.69,614.779 1435.81,612.889C1436.56,611.401 1439.19,606.141 1443.1,593.421C1443.8,591.145 1439.21,584.526 1434.73,589.001C1434.9,584.117 1437.27,571.399 1429.05,572.426C1425.04,572.927 1425.53,593.869 1418.05,609.322C1407.72,601.983 1383,599.01 1371.12,603.366C1364.84,605.667 1363.84,604.856 1360.65,607.896C1357.11,611.284 1355.07,613.389 1352.65,622.151C1352.48,622.764 1351.36,625.208 1351.23,625.466C1350.48,626.958 1349.95,627.558 1349.02,626.097Z"
                fill-rule="nonzero"/>
            </g>

            <!-- BOOKS -->
            <g class="hotspot" id="hotspot-books" transform="scale(0.2401041667 0.2407407407)">
              <path class="click"
                d="M1534.66,456.791C1540.74,456.92 1540.63,456.254 1546.67,455.883C1548.02,458.089 1548.63,457.429 1578.98,457.429C1639.9,457.429 1644.53,456.503 1650.12,455.386C1652.52,454.905 1659.9,450.819 1657.78,451.81C1659.41,450.996 1662.37,451.398 1660.33,439.166C1659.16,432.112 1658.77,414.218 1656.76,404.171C1656.45,402.647 1656.87,402.624 1654.33,384.886C1654.02,382.735 1650.96,361.279 1650.88,357.938C1650.59,345.229 1651.54,342.179 1642.07,341.187C1642.33,334.85 1638.75,309.821 1638.37,307.106C1636.39,293.241 1640.29,280.732 1625.34,283.223C1623.48,283.534 1623.57,283.384 1621.81,283.63C1620.59,277.977 1619.7,277.731 1613.97,277.604C1600.64,277.308 1577.6,279.738 1537.22,278.242C1533.77,278.115 1506.78,278.115 1504.14,278.115C1486.85,278.115 1485.28,279.745 1485.12,283.771C1485.07,285.086 1483.97,295.751 1485.11,304.808C1486.73,317.798 1488.22,340.17 1488.43,343.25C1488.78,348.604 1489.81,389.33 1491.75,400.978C1493.15,409.393 1492.89,446.057 1494.81,447.212C1500.33,450.519 1509.25,448.383 1509.7,448.354C1511.05,450.844 1509.47,452.153 1512.18,452.832C1523.06,455.552 1527.62,452.34 1529.07,454.279C1529.14,454.378 1529.92,455.417 1529.93,455.56C1529.97,455.949 1530.03,456.692 1534.66,456.791Z"
                fill-rule="nonzero"/>
            </g>

            <!-- SCREEN -->
            <g class="hotspot" id="hotspot-screen" transform="scale(0.2401041667 0.2407407407)">
              <path class="click"
                d="M1220.27,391.183C1220.29,420.986 1217.63,473.047 1216.23,515.583C1215.71,531.443 1214.93,546.982 1213.49,547.385C1208.8,548.695 1182.97,549.369 1181.62,548.916C1179.38,549.306 1166.93,527.583 1163.12,521.355C1159.79,515.9 1157.46,515.503 1159.8,510.532C1161.17,507.631 1176.38,507.402 1177.84,507.357C1181.72,507.236 1180.57,498.689 1179.43,498.121C1179.24,498.024 1156.84,475.019 1155.47,472.288C1154.06,469.465 1153.79,459.822 1154.48,437.843C1154.63,433.343 1154.65,426.85 1155.47,389.374C1155.9,370.194 1155.82,358.228 1157.35,357.558C1162.92,355.119 1164.08,353.276 1168.03,355.249C1183.73,363.099 1187.38,366.309 1201.11,376.217C1207.54,380.854 1216.37,386.77 1220.27,391.183Z"
                fill-rule="nonzero"/>
            </g>

            <!-- CRAYONS -->
            <g class="hotspot" id="hotspot-crayons">
              <path class="click" d="M235.6,112.2c-1.2,0.6 -3,1.6 -5.2,2.9c-0.5,0.3 -1.7,0.9 -2.3,1.1c-0.6,0.2 -0.4,0.5 -0.3,1.8c0.4,0.1 3.4,0.5 5.2,0.9c0,0.2 0.1,1.5 0.5,3c1.1,3.7 1.5,6.2 3,6.9c1,0.5 3.5,0.2 7.4,0.2c0.5,-0 11.7,-0.3 12.8,-0.4c0.6,-0.1 1.2,-0.1 1.1,-1.1c-0,-0.2 -0.8,-1.6 -1.3,-2.2c-1.1,-1.6 -2.7,-3.4 -3.1,-4.2c7.2,-4.5 8,-4.2 8.1,-5.2c0.5,-3.8 0.6,-5.5 1.1,-10.9c0.3,-2.9 0.2,-2.7 0.5,-5.6c0.1,-1.1 -0.6,-0.8 -7.2,-1.4c-1.1,-0.1 -18.1,-1.1 -19.1,-0.6c-0.7,0.3 -0.3,2 -0.6,6.8c-0,1.3 -0.4,6.2 -0.7,8.1z"/>
            </g>

            <!-- PRESS -->
            <g class="hotspot" id="hotspot-press" transform="scale(0.2401041667 0.2407407407)">
              <path class="click"
                d="M773.016,294.501C755.497,294.843 737.031,293.835 692.29,294.501C689.757,294.539 689.785,294.89 688.052,296.792C686.446,296.792 686.523,296.527 685.367,297.098C685.514,295.034 685.219,292.951 685.367,290.888C686.217,290.828 694.292,290.815 696.27,288.885C696.689,288.02 700.538,282.842 685.28,284.015C684.99,282.744 684.838,278.696 680.212,278.114C671.806,278.081 671.227,278.375 669.86,283.818C666.269,283.682 656.555,282.634 656.399,286.292C656.129,292.624 661.768,290.668 667.07,290.888C670.735,311.692 664.162,319.681 672.435,318.747C673.837,318.589 673.632,327.563 673.921,338.881C674.135,347.235 675.614,358.312 673.921,360.069C661.216,373.252 627.888,390.62 653.367,392.936C664.98,393.992 676.129,389.666 676.576,400.413C677.845,430.908 678.551,442.532 682.363,508.514C683.179,522.638 682.994,535.439 683.083,545.169C683.186,556.367 682.993,562.979 685.99,563.497C699.891,565.9 699.681,559.618 699.545,556.624C699.522,556.132 697.805,545.428 702.981,545.169C727.477,543.942 730.717,544.139 758.537,543.451C786.67,542.755 807.816,541.32 810.251,542.518C811.4,558.386 807.381,564.191 824.075,561.638C829.339,560.833 826.685,556.95 826.282,531.249C826.124,521.21 824.657,518.09 827.647,515.578C830.952,512.801 830.026,506.84 828.85,442.761C828.519,424.732 828.002,419.214 827.647,405.041C827.548,401.112 828.716,388.886 830.761,400.413C830.925,401.341 830.585,403.28 835.474,413.058C837.214,416.538 836.228,433.557 843.057,429.245C846.058,427.351 843.16,418.07 845.974,402.367C846.741,398.091 846.491,392.473 846.929,389.567C847.195,387.8 847.359,381.207 846.929,369.148C846.412,354.668 848.455,355.177 849.22,350.057C850.272,343.009 844.421,343.674 844.114,341.831C843.617,338.851 844.786,297.679 833.183,305.193C827.562,308.832 831.889,339.574 828.85,357.809C828.395,360.539 822.755,361.903 821.919,347.788C821.783,345.482 821.165,330.093 821.092,326.024C820.886,314.398 822.311,307.299 816.582,306.086C816.944,303.737 814.618,301.863 819.629,300.611C823.265,299.701 820.957,293.775 821.919,290.888C822.545,289.012 833.108,292.675 833.183,286.292C833.233,282.091 824.812,283.783 821.092,283.619C817.305,283.453 822.087,279.169 811.916,279.252C805.806,279.301 804.888,280.139 804.546,283.619C804.418,284.925 790.656,281.123 790.491,286.292C790.356,290.521 794.21,289.908 799.919,290.191C801.412,290.265 801.439,292.735 800.985,294.501C800.628,295.886 791.282,294.6 787.109,294.501C785.838,294.471 776.788,294.428 773.016,294.501Z"
                fill-rule="nonzero"/>
            </g>

            <!-- LETTER / CONTACT -->
            <g class="hotspot" id="hotspot-contact" transform="scale(0.2401041667 0.2407407407)">
              <path class="click"
                d="M555.22,535.457C556.446,534.231 588.16,523.622 593.967,525.558C597.31,526.672 619.523,542.798 617.63,545.167C616.322,546.805 615.161,547.272 602.656,553.231C601.67,553.701 599.234,555.339 587.651,560.251C572.969,566.477 568.955,567.578 567.354,567.222C566.021,566.926 564.699,566.082 563.545,565.095C563.371,564.947 560.54,561.8 561.631,560.345C561.932,559.944 562.034,560.16 566.435,556.306C566.81,551.21 564.719,551.912 554.56,538.851C554.437,538.693 553.281,537.207 554.089,536.399C555.07,535.418 555.269,535.35 555.22,535.457Z"
                fill-rule="nonzero"/>
            </g>



          </svg>
        </div>
      </div>
    </div>

    <!-- GUMB pod ilustracijo -->
    <div class="mobile-cta">
      <button id="openMenuBtn" type="button" aria-expanded="false" aria-controls="mobileMenu">
        <img src="../assets/images/icon-arrow.png" class="hint-arrow" alt="" aria-hidden="true">
        <div class="hint-row">
          <span class="hint-text">Poišči in klikni.</span>
        </div>
      </button>
    </div>

    <!-- MOBILE MENU -->
    <div class="mobile-menu" id="mobileMenu">
      <nav class="icon-nav-mobile" aria-label="Meni">
        <a class="icon-link" href="about.html">
          <img class="icon" src="../assets/images/icon-newspaper.png" alt="O meni">
          <div class="icon-title">O meni</div>
        </a>

        <a class="icon-link" href="wet-techniques.html">
          <img class="icon" src="../assets/images/icon-brush.png" alt="Slikanje">
          <div class="icon-title">Slikanje</div>
        </a>

        <a class="icon-link" href="dry-techniques.html">
          <img class="icon" src="../assets/images/icon-crayon.png" alt="Risanje">
          <div class="icon-title">Risanje</div>
        </a>

        <a class="icon-link" href="books.html">
          <img class="icon" src="../assets/images/icon-books.png" alt="Knjige">
          <div class="icon-title">Knjige</div>
        </a>

        <a class="icon-link" href="printmaking.html">
          <img class="icon" src="../assets/images/icon-press.png" alt="Grafika">
          <div class="icon-title">Grafika</div>
        </a>

        <a class="icon-link" href="animation.html">
          <img class="icon" src="../assets/images/icon-screen.png" alt="Animacija in oblikovanje">
          <div class="icon-title">Animacija</div>
        </a>

        <a class="icon-link" href="contact.html">
          <img class="icon" src="../assets/images/icon-letter.png" alt="Kontakt">
          <div class="icon-title">Kontakt</div>
        </a>

        <a class="icon-link" href="https://evamargon.sumupstore.com" target="_blank" rel="noopener">
          <img class="icon" src="../assets/images/icon-bag.png" alt="Trgovina">
          <div class="icon-title">Trgovina</div>
        </a>
      </nav>
    </div>

  </div><!-- /hero -->

  <script>
    /* 1) MENU TOGGLE */
    (function () {
      const btn = document.getElementById('openMenuBtn');
      const menu = document.getElementById('mobileMenu');
      if (!btn || !menu) return;

      btn.addEventListener('click', () => {
        const isOpen = menu.classList.toggle('is-open');
        btn.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
        document.body.classList.toggle('menu-open', isOpen);
      });

      menu.addEventListener('click', (e) => {
        const link = e.target.closest('a');
        if (!link) return;
        menu.classList.remove('is-open');
        btn.setAttribute('aria-expanded', 'false');
        document.body.classList.remove('menu-open');
      });
    })();

    /* 2) HOTSPOT NAV + TAP FADE */
    (function () {
      const links = {
        'hotspot-newspaper': 'about.html',
        'hotspot-brushes': 'wet-techniques.html',
        'hotspot-crayons': 'dry-techniques.html',
        'hotspot-books': 'books.html',
        'hotspot-press': 'printmaking.html',
        'hotspot-screen': 'animation.html',
        'hotspot-contact': 'contact.html',
        'hotspot-bag': 'https://evamargon.sumupstore.com'
      };

      const hotspotsSvg = document.getElementById('hotspots');
      if (!hotspotsSvg) return;

      const isMobileOrPortrait = () =>
        window.matchMedia('(max-width: 420px)').matches ||
        window.matchMedia('(orientation: portrait) and (max-width: 768px)').matches;

      /* NAZAJ KOT PREJ: vedno meet (brez slice) */
      const applyAspect = () => {
        hotspotsSvg.setAttribute('preserveAspectRatio', 'xMidYMid meet');
      };

      applyAspect();
      window.addEventListener('resize', applyAspect, { passive: true });

      const clearTapped = () => {
        hotspotsSvg.querySelectorAll('.hotspot.is-tapped')
          .forEach(el => el.classList.remove('is-tapped'));
      };

      hotspotsSvg.addEventListener('click', function (e) {
        const hotspot = e.target.closest('.hotspot');
        if (!hotspot) return;

        const href = links[hotspot.id];
        if (!href) return;

        const isExternal = /^https?:\/\//i.test(href);

        if (isMobileOrPortrait()) {
          e.preventDefault();
          clearTapped();
          hotspot.classList.add('is-tapped');

          window.setTimeout(() => {
            hotspot.classList.remove('is-tapped');
            if (isExternal) window.open(href, '_blank', 'noopener');
            else window.location.href = href;
          }, 700);

          return;
        }

        if (isExternal) window.open(href, '_blank', 'noopener');
        else window.location.href = href;
      }, { passive: false });

      window.addEventListener('scroll', clearTapped, { passive: true });
      window.addEventListener('resize', clearTapped, { passive: true });
    })();
  </script>

</body>
</html>

