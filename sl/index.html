<!DOCTYPE html>
<html lang="sl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eva Margon – Studio</title>

  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css">

  <style>
    html, body { margin: 0; padding: 0; height: 100%; }

    body{
      overflow:hidden; /* desktop */
    }

    /* HERO */
    .hero{
      width:100%;
      text-align:center;
      padding-top:20px;
      position:relative;
      z-index:1;
    }

    .signature{
      max-width:320px;
      width:70%;
      margin:0 auto 8px;
      display:block;
      opacity:.95;
      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.08));
    }

    /* SCENE */
    .scene{
      position:relative;
      width:100%;
      height: calc(100vh - 100px);
    }

    .media-wrap{
      position:relative;
      width:100%;
      height:100%;
    }

    .media-wrap picture{
      position:absolute;
      inset:0;
      display:block;
      width:100%;
      height:100%;
      z-index:0;
    }

    .media-wrap img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
      margin:0 auto;
    }

    /* SVG layers */
    #hotspots-outline{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index:1;
      display:none;
    }

    #hotspots{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      z-index:2;
    }

    /* CLICK SHAPE (highlight overlay) */
    #hotspots .click{
      pointer-events: all;
      cursor: pointer;
      fill: #fff;
      fill-opacity: 0;
      stroke: none;
      transition: fill-opacity 160ms ease;
    }

    /* Fix za "šiv" na BOOKS hotspotu */
    #hotspots #hotspot-books .click{
      stroke: rgba(255,255,255,0);
      stroke-width: 0.6px;
      stroke-linejoin: round;
      stroke-linecap: round;
      vector-effect: non-scaling-stroke;
      shape-rendering: geometricPrecision;
    }

    @media (hover:hover){
      #hotspots .hotspot:hover .click{
        fill-opacity: 0.28;
      }
    }

    #hotspots .hotspot.is-tapped .click{
      fill-opacity: 0.32;
    }

    #hotspots .hotspot{
      -webkit-tap-highlight-color: transparent;
    }

    /* Language */
    .language-switch{
      position:fixed;
      bottom:20px;
      right:24px;
      font-size:14px;
      z-index:60;
    }
    .language-switch a{
      text-decoration:none;
      color:#222;
      opacity:.6;
      transition: opacity .2s ease;
    }
    .language-switch a:hover{ opacity:1; }

    /* Mobile CTA */
    .mobile-cta{
      display:none;
      width:100%;
      margin:0;
      padding:0;
      text-align:center;
      line-height:0;
      position:relative;
      z-index:55;
    }

    .mobile-cta button{
      appearance:none;
      border:none;
      background:transparent;
      color:#222;
      font-family:'Rubik', sans-serif;
      font-size:15px;
      font-weight:500;
      padding:0;
      margin:0;
      border-radius:999px;
      display:inline-flex;
      align-items:center;
      gap:6px;
      cursor:pointer;
      opacity:1;
      transition: transform .2s ease, opacity .2s ease;
      line-height:1;
    }

    .hint-row{
      display:inline-flex;
      align-items:center;
      gap:8px;
    }

    .hint-arrow{
      width:26px;
      height:auto;
      display:block;
    }

    .hint-text{
      white-space:nowrap;
      opacity:1;
      font-size:13px;
    }

    /* Mobile menu */
    .mobile-menu{
      display:none;
      padding: 14px 12px 18px;
      background:#fff;
      position:relative;
      z-index:54;
      opacity:0;
      transform: translateY(10px);
      transition: opacity .2s ease, transform .2s ease;
    }

    .mobile-menu.is-open{
      display:block;
      opacity:1;
      transform: translateY(0);
    }

   .icon-nav-mobile{
  display:flex;
  justify-content:center;
  align-items:flex-start;
  gap:10px;
  flex-wrap:nowrap;

  /* ključ: nikoli ne odreže ikon */
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
  padding: 0 10px;
}

.icon-nav-mobile::-webkit-scrollbar{
  display:none; /* lepše na iOS */
}

.icon-nav-mobile .icon-link{
  display:flex;
  flex-direction:column;
  align-items:center;
  text-decoration:none;

  /* pomembno: brez min-width, ker to razširi vrstico */
  flex: 0 0 auto;
  min-width: 0;
}

    .icon-nav-mobile .icon{
      width: 28px;
      height: 28px;
      display:block;
      filter:none;
      opacity:1;
    }

    .icon-nav-mobile .icon-title{
      margin-top:5px;
      font-size:11px;
      line-height:1.1;
      text-align:center;
      color:#111;
      opacity:.9;

      max-width:72px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* Responsive */
    @media (max-width: 420px), (orientation: portrait) and (max-width: 768px){
      body{ overflow-y:auto; }

      .hero{
        padding-top:0;
        min-height:100vh;
        display:flex;
        flex-direction:column;
        justify-content:center;
        align-items:center;
      }

      body.menu-open .hero{
        justify-content:center;
        min-height:100vh;
      }

      .signature{
        max-width:165px;
        width:auto;
        margin:0 auto;
      }

      .scene{
        height:auto;
        margin:0;
        padding:0;
        line-height:0;
        width:100%;
      }

      .media-wrap{
        height: min(47vh, 470px);
        overflow:hidden;
        width:100%;
      }

      .media-wrap img{
        object-fit:cover;
        object-position:50% 50%;
      }

      .mobile-cta{
        display:block;
      }

      .mobile-cta button{
        padding:10px 12px;
      }

      .language-switch{
        bottom:16px;
        right:16px;
        font-size:13px;
      }

      /* mobile menu: še malo bolj kompaktno */
      .icon-nav-mobile{ gap:8px; }
      .icon-nav-mobile .icon{ width:26px; height:26px; }
      .icon-nav-mobile .icon-title{ font-size:10.5px; max-width:64px; }
    }
  </style>
</head>

<body>

  <!-- LANGUAGE SWITCH -->
  <div class="language-switch">
    <span>SL</span> / <a href="../en/">EN</a>
  </div>

  <!-- HERO -->
  <div class="hero">

    <img src="../assets/images/logo.png" alt="Eva Margon" class="signature">

    <div class="scene">
      <div class="media-wrap">
        <picture>
          <img src="../assets/images/galerija.jpg" alt="Illustrated studio workspace">
        </picture>

        <!-- OUTLINE SVG (skrito) -->
        <svg id="hotspots-outline" viewBox="0 0 461 260" preserveAspectRatio="xMidYMid meet" aria-hidden="true"></svg>

        <!-- KLIKABILNI SVG -->
        <svg id="hotspots" viewBox="0 0 461 260" preserveAspectRatio="xMidYMid meet" aria-label="Hotspots">

          <!-- NEWSPAPER -->
          <g class="hotspot" id="hotspot-newspaper">
            <path class="click" d="M135.3,213.3c-1.4,-1.7 2.1,-1.9 0.7,-3.1c-0.5,-0.4 0.7,0.1 5.4,-5.6c0.6,-0.7 0.7,-0.5 7.6,-8.3c0,-0 1.8,-1.3 5.2,-4.7c1.1,-1.1 1.2,-0.8 2.3,-0.3c0.6,0.3 7.7,1.5 8.1,1.5c5.5,0.2 8.7,-0.8 15.1,3.4c0.7,0.5 5.6,3.8 6.9,7.7c1.2,3.7 0.1,3.8 -5.5,13.9c-1.6,3 -5.6,8.3 -6.4,10.5c-0.4,1.1 -1.6,-0.9 -1.8,0.3c-0.1,0.7 0.9,2.4 -1.3,1.5c-14.6,-5.8 -21.3,-5.7 -30.6,-8.8c-5.4,-1.8 -8.3,-0.3 -6.9,-2.6c0,-0 0.1 0 0.5,-0.6c0.4,-0.6 0.3,-0.5 0.7,-1c-0.4,-0 -3.9,-0 -1.5,-2c0.1,-0.1 0.1,-0.2 1.7,-1.8z"/>
          </g>

          <!-- BAG -->
          <g class="hotspot" id="hotspot-bag">
            <path class="click" d="M261.9,187.4c-3.4,0.3 -3.4,2 -9.4,2.8c-6.5,0.8 -9.6,3.9 -10.2,4.5c-1, 1 -1.7,1.3 -0.8,2.4c0,0.1 2.9,4.1 3.2,5.8c0.6,2.9 -1.6,9.4 -0.5,11.6c0.6, 1.1 14.8,1 17,0.3c0.1,-1.3 0.2,-2.4 0.3,-6.5c0,-0.8 -0.2,-1.5 0.3,-12.2c0.1,-1.6 0.1,-5.7 0.2,-8.7z"/>
          </g>

          <!-- BRUSHES -->
          <g class="hotspot" id="hotspot-brushes">
            <path class="click" d="M320.9,181.2c-2.8,0.4 -2.6,1.7 -2.7,1.9c-0.7,2.1 1.8,2.6 1.8,2.7c-0.1,1 -0,1 -0.1,12.3c0.2,0.1 1.1,1.9 3.9,2.6c3.6,0.8 6.4,1 10.1,-0.4c0.4,-0.2 2.7,-2 2.7,-2.3c-0.2,-11.1 -0.7,-11.6 0.2,-11.9c2.7,-0.8 2,-4.1 -0.3,-3.8c2.4,-3.8 10.3,-15 12.3,-17.3c0.4,-0.5 9.4,-10.9 5.8,-10.6c-0.4,0 -4.7,4 -6,5.5c0.2,-2.2 -0.2,-11.1 0.2,-11.7c0.2,-0.3 2.5,-3.4 1.3,-4.5c-1,-0.9 -2.4,1.3 -2.5,1.6c-0.7,1.5 -1,1.4 -1.7,2.9c-0.5,0.9 -0.7,0.5 -1.7,0.3c1.8,-2.1 1.6,-2.2 2.1,-5c0.2,-1.4 -2,-1 -2.2,-1c0.6,-2.1 1,-2.6 -0.5,-3.1c-2.2,-0.7 -0.4,1.5 -3.5,7.9c-0.8,-0.5 -7.4,-3.3 -11.3,-0.4c-3.2,2.3 -4.6,5.6 -4.8,6.2c-0.3,-2.7 -0.3,-3.9 -0.6,-5.6c-0.2,-1.1 -0.2,-4.7 -1.8,-4.2c-2.4,0.8 0.5,1.3 0.8,18.9c0,0.1 -0.2,0.4 -1.1,0c-0.8,-4.8 -0.6,-4.5 -1.2,-9.4c-0.2,-1.6 -0.2,-3.4 -0.6,-7.8c-0.1,-1.3 0.3,-3.7 -0.2,-6c-0.1,-0.5 -2.2,-1.5 -2.3,1.2c0,1.3 -0.3,14.4 0.2,17.1c-1.4,-7.6 -2.3,-7.3 -2.9,-10.6c0,-0.3 -1.2,-3.5 -1.9,-3.1c-0.1,0 -1.8,0.1 -1.1,1.6c0,0.1 0.2,0.4 0.3,1.3c-1,0.2 -1.1,0.1 -1.1,0.3c-0.1,0.7 0.4,1.6 0.4,1.6c-0.1,-0.2 -0.1,-1.8 -2.3,-0.9c-0.5,0.2 0.3,1.8 0.3,1.9c-0.8,-1.3 -1.2,-2.2 -2.2,-1.5c-0.6,0.4 1.4,5.8 2.5,6.9c0.4,0.4 -0.5,0.9 2.9,7c0.3,0.5 0.9,1.6 3.3,6.8c0.4,0.9 -0.4,1.1 0.6,2.7c0,0.1 2.3,5 2.5,5.5c0.2,0.3 0.2,0.3 2.3,4.2"/>
          </g>

         <!-- BOOKS -->
<g class="hotspot" id="hotspot-books">
  <path class="click"
        d="M1349.02,626.097C1349.02,596.461 1349.56,584.856 1338.28,589.633C1334.27,591.333 1336.18,599.642 1338.28,626.097C1338.34,626.833 1341.59,651.622 1342.39,659.563C1343.11,666.749 1345.49,673.877 1340.34,668.719C1337.56,665.943 1335.13,632.298 1332.13,627.045C1328.68,621.019 1332.7,582.767 1331.02,571.637C1330.72,569.609 1320.68,562.798 1321.08,583.476C1321.45,602.747 1320.96,627.646 1321.39,637.937C1316.42,613.061 1313.46,610.695 1310.47,613.94C1307.08,603.975 1309.6,600.58 1304.5,594.21C1294.78,582.061 1299.94,604.848 1300.16,605.815C1297.62,602.674 1296.92,601.73 1293.2,604.716C1292.33,607.058 1295.93,610.12 1297.35,615.006C1294.71,613.486 1295.73,612.589 1293.61,610.47C1287.73,604.593 1288.12,611.424 1287.56,613.739C1283.89,603.451 1276.57,613.169 1281.45,622.94C1290.66,641.357 1288.75,641.988 1288.72,643.304C1288.42,654.965 1292.99,654.478 1302.77,675.664C1307.96,686.909 1308.57,686.507 1313.78,697.702C1311.1,703.514 1313.79,703.586 1321.24,719.548C1327.79,733.599 1338.14,739.743 1326.13,751.751C1326.05,751.83 1324.24,757.269 1324.08,757.75C1321.03,766.898 1331.07,768.47 1331.18,774.009C1332.01,815.656 1326.22,818.145 1337.65,829.574C1353.44,845.361 1404.79,847.239 1402.85,814.262C1400.19,769.095 1405.56,769.589 1405.85,765.8C1406.34,759.349 1400.75,755.428 1405.06,751.12C1407.28,748.893 1405.41,747.689 1426.53,718.128C1435.21,705.973 1442.1,695.639 1443.42,693.66C1455.22,675.955 1484.39,644.289 1480.2,640.62C1472.25,633.665 1462.7,649.345 1453.23,660.034C1451.98,640.644 1453.73,640.693 1452.89,621.362C1452.49,612.321 1451.53,611.754 1456.99,604.471C1461.03,599.084 1456.64,588.608 1450.2,597.052C1447.68,600.367 1442.16,611.4 1441.52,612.68C1439.75,616.222 1438.69,614.779 1435.81,612.889C1436.56,611.401 1439.19,606.141 1443.1,593.421C1443.8,591.145 1439.21,584.526 1434.73,589.001C1434.9,584.117 1437.27,571.399 1429.05,572.426C1425.04,572.927 1425.53,593.869 1418.05,609.322C1407.72,601.983 1383,599.01 1371.12,603.366C1364.84,605.667 1363.84,604.856 1360.65,607.896C1357.11,611.284 1355.07,613.389 1352.65,622.151C1352.48,622.764 1351.36,625.208 1351.23,625.466C1350.48,626.958 1349.95,627.558 1349.02,626.097Z"
        fill-rule="nonzero"
        style="fill:transparent;"/>
</g>



          <!-- SCREEN -->
          <g class="hotspot" id="hotspot-screen">
            <path class="click" d="M292.2,94.1c-0.1,-0.3 -1.4,-1 -2.5,-1.8c-1.2,-0.8 -3.6,-2.5 -5.5,-3.9c-1.3,-1 -4.3,-2.8 -5.2,-2.5c-0.1,0.1 -0.6,0.3 -0.8,0.6c-0.4,0.6 -0.2,5 -0.2,7.6c0,1.2 0,1 -0.1,8.6c-0.1,3.7 -0.1,4.3 -0.2,7.7c-0, 1.5 -0.1,1.6 0.8,2.9c1.1,1.6 6.5,6.9 6.5,8c-0,0.1 -0,0.2 -0.1,1.1c-1,-0.1 -1.9,-0 -3.9,0.1c-1.7,0.1 -2.4,0 -2.3,1.8c0,0.6 0.1,0.6 4,6.3c0.8,1.2 1.8,1.2 4.4,1.4c1.2,0.1 3.3,0.2 4.2,-0.1c0.3,-6.6 0.2,-7.2 0.3,-13.8c0.2,-8.3 0.4,-9.6 0.5,-16.9c0.1,-2.8 0.2,-6.6 0.1,-7z"/>
          </g>

          <!-- CRAYONS -->
          <g class="hotspot" id="hotspot-crayons">
            <path class="click" d="M235.6,112.2c-1.2,0.6 -3,1.6 -5.2,2.9c-0.5,0.3 -1.7,0.9 -2.3,1.1c-0.6,0.2 -0.4,0.5 -0.3,1.8c0.4,0.1 3.4,0.5 5.2,0.9c0,0.2 0.1,1.5 0.5,3c1.1,3.7 1.5,6.2 3,6.9c1,0.5 3.5,0.2 7.4,0.2c0.5,-0 11.7,-0.3 12.8,-0.4c0.6,-0.1 1.2,-0.1 1.1,-1.1c-0,-0.2 -0.8,-1.6 -1.3,-2.2c-1.1,-1.6 -2.7,-3.4 -3.1,-4.2c7.2,-4.5 8,-4.2 8.1,-5.2c0.5,-3.8 0.6,-5.5 1.1,-10.9c0.3,-2.9 0.2,-2.7 0.5,-5.6c0.1,-1.1 -0.6,-0.8 -7.2,-1.4c-1.1,-0.1 -18.1,-1.1 -19.1,-0.6c-0.7,0.3 -0.3,2 -0.6,6.8c-0,1.3 -0.4,6.2 -0.7,8.1z"/>
          </g>

          <!-- PRESS -->
          <g class="hotspot" id="hotspot-press">
            <path class="click" d="M164.1,69.1c-0,-1.1 -0.1,-1.1 -1.4,-1.2c-1.6,-0 -1.7,0.4 -1.7,1.1c-2,-0.1 -3,-0.2 -3,0.9c0,1.1 1,0.8 2.7,0.7c0,2.2 0.1,2.7 0.2,5c0.1,1.1 0.3,0.9 1.4,1c0.4,10.3 0.8,10.9 0.4,11c-0.5,0.1 -1.5,1.1 -5.2,4c-1.8,1.4 -1.7,1.3 -1.6,3.1c2.5,0.2 2.5,-0 7.2,0.3c0.7,15.4 1.2,37.2 1.2,40.1c0,1 3.4,0.7 3.5,0.2c0.3,-1.3 -0.2,-1.7 -0.4,-1.7c0.2,-1.5 0.3,-2.3 0.3,-2.5c14.5,-0.1 16.4,-0.1 27.3,-0.5c0.2,1.4 0.2,1.3 0.4,2.6c-0.5,0.4 -0.2,1.1 -0.2,2.1c0,0.6 2,0.6 2.5,0.3c0.4,-0.4 0.4,-1.6 0.4,-2.1l-0.4,-0.3c-0.1,-3.1 -0.2,-6.3 -0.2,-9c0.7,-0.1 0.7,0.1 1.3,-0.3c-0.2,-3.9 -0.4,-25.5 -1.2,-29.4c-0.3,-1.5 -0.2,-2.5 -0.2,-2.8c1.5,2.1 0.2,4.1 1.8,3.8c0.5,1.8 0.4,2.1 1.4,3.3c0.7,0.9 1.3,-0.2 1.4,-0.6c0.4,-1 0.5,-1.8 0.9,-3.5c0,-0.3 0,-2.8 0,-3.1c-0,-2.6 -0.5,-4.6 0.1,-5.6c1.3,-2.4 -0.7,-2.8 -0.9,-2.7c-0.2,-8 -0.4,-9 -1.1,-9c-1.6,0 -1.4,1.1 -1.7,4.1c-0.1,1.5 -0.1,3.5 -0.2,5.5c-0, 3.8 0.5,4.8 -1.3,4.7c-0.6,-0 -1,0 -1,-1.4c-0,-2.2 -0.3,-9 -0.2,-10.4c0.1,-1.4 -0.2,-1 -0.3,-1.8c-0,-0.6 -0.1,-1.7 -0,-2.3c0.1,-2.1 -0.5,-2.4 1.3,-2.3c1.8,0 2.1,0.3 1.9,-1.5c-0.1,-0.6 -1,0 -3.5,-0.3c0.2,-1.3 -0.2,-1.3 -1.3,-1.3c-1.4,-0 -1.2,1.2 -1.2,1.3c-1.2,-0 -1.3,0.2 -2.5,-0c-1.1,-0.2 -0.6,0.5 -0.8,1.5c0.5,0.9 3.3,-0.5 3.3,1.8c0,0.8 -1.3,0.2 -9.1,0.1c-4.2,-0 -6.9,0.1 -8.4,0.2c-0.7,0 -3.7,0.3 -10.9,0.3c-1.4,0 -1.2,-0.1 -1.1,-2c0,-0.2 2.5,-0.3 3.1,-0.4c0.1,-2.1 -1.6,-1.2 -3.1,-1.2z"/>
          </g>

        </svg>
      </div>
    </div>

    <!-- GUMB pod ilustracijo -->
    <div class="mobile-cta">
      <button id="openMenuBtn" type="button" aria-expanded="false" aria-controls="mobileMenu">
        <img src="../assets/images/icon-arrow.png" class="hint-arrow" alt="" aria-hidden="true">
        <div class="hint-row">
          <span class="hint-text">Poišči in klikni.</span>
        </div>
      </button>
    </div>

    <!-- MOBILE MENU -->
    <div class="mobile-menu" id="mobileMenu">
      <nav class="icon-nav-mobile" aria-label="Meni">
        <a class="icon-link" href="about.html">
          <img class="icon" src="../assets/images/icon-newspaper.png" alt="O meni">
          <div class="icon-title">O meni / CV</div>
        </a>

        <a class="icon-link" href="wet-techniques.html">
          <img class="icon" src="../assets/images/icon-brush.png" alt="Slikanje">
          <div class="icon-title">Slikanje</div>
        </a>

        <a class="icon-link" href="dry-techniques.html">
          <img class="icon" src="../assets/images/icon-crayon.png" alt="Risanje">
          <div class="icon-title">Risanje</div>
        </a>

        <a class="icon-link" href="books.html">
          <img class="icon" src="../assets/images/icon-books.png" alt="Knjige">
          <div class="icon-title">Knjige</div>
        </a>

        <a class="icon-link" href="printmaking.html">
          <img class="icon" src="../assets/images/icon-press.png" alt="Grafika">
          <div class="icon-title">Grafika</div>
        </a>

        <a class="icon-link" href="animation.html">
          <img class="icon" src="../assets/images/icon-screen.png" alt="Animacija in oblikovanje">
          <div class="icon-title">Animacija</div>
        </a>

        <a class="icon-link" href="https://evamargon.sumupstore.com" target="_blank" rel="noopener">
          <img class="icon" src="../assets/images/icon-bag.png" alt="Trgovina">
          <div class="icon-title">Trgovina</div>
        </a>
      </nav>
    </div>

  </div><!-- /hero -->

  <script>
    /* 1) MENU TOGGLE */
    (function () {
      const btn = document.getElementById('openMenuBtn');
      const menu = document.getElementById('mobileMenu');
      if (!btn || !menu) return;

      btn.addEventListener('click', () => {
        const isOpen = menu.classList.toggle('is-open');
        btn.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
        document.body.classList.toggle('menu-open', isOpen);
      });

      menu.addEventListener('click', (e) => {
        const link = e.target.closest('a');
        if (!link) return;
        menu.classList.remove('is-open');
        btn.setAttribute('aria-expanded', 'false');
        document.body.classList.remove('menu-open');
      });
    })();

    /* 2) HOTSPOT NAV + TAP FADE */
    (function () {
      const links = {
        'hotspot-newspaper': 'about.html',
        'hotspot-brushes': 'wet-techniques.html',
        'hotspot-crayons': 'dry-techniques.html',
        'hotspot-books': 'books.html',
        'hotspot-press': 'printmaking.html',
        'hotspot-screen': 'animation.html',
        'hotspot-bag': 'https://evamargon.sumupstore.com'
      };

      const hotspotsSvg = document.getElementById('hotspots');
      if (!hotspotsSvg) return;

      const isMobileOrPortrait = () =>
        window.matchMedia('(max-width: 420px)').matches ||
        window.matchMedia('(orientation: portrait) and (max-width: 768px)').matches;

      const applyAspect = () => {
        const par = isMobileOrPortrait() ? 'xMidYMid slice' : 'xMidYMid meet';
        hotspotsSvg.setAttribute('preserveAspectRatio', par);
      };

      applyAspect();
      window.addEventListener('resize', applyAspect, { passive: true });

      const clearTapped = () => {
        hotspotsSvg.querySelectorAll('.hotspot.is-tapped')
          .forEach(el => el.classList.remove('is-tapped'));
      };

      hotspotsSvg.addEventListener('click', function (e) {
        const hotspot = e.target.closest('.hotspot');
        if (!hotspot) return;

        const href = links[hotspot.id];
        if (!href) return;

        const isExternal = /^https?:\/\//i.test(href);

        if (isMobileOrPortrait()) {
          e.preventDefault();
          clearTapped();
          hotspot.classList.add('is-tapped');

          window.setTimeout(() => {
            hotspot.classList.remove('is-tapped');
            if (isExternal) window.open(href, '_blank', 'noopener');
            else window.location.href = href;
          }, 700);

          return;
        }

        if (isExternal) window.open(href, '_blank', 'noopener');
        else window.location.href = href;
      }, { passive: false });

      window.addEventListener('scroll', clearTapped, { passive: true });
      window.addEventListener('resize', clearTapped, { passive: true });
    })();
  </script>

</body>
</html>
